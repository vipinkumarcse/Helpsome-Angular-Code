<app-header-company class="d-none d-sm-block"></app-header-company>

<header class="splash_top_bar d-block d-sm-none">
    <div class="container">
        <div class="row">
            <div class="col-sm-12">
                <nav class="navbar navbar-expand-lg navbar-dark bg-none flex-sm-row p-0 p-sm-2 justify-content-between">
                    <span routerLink="/company/profilecompany">
                        <svg xmlns="http://www.w3.org/2000/svg" width="11.729" height="20.516" viewBox="0 0 11.729 20.516">
                            <path id="Icon_ionic-ios-arrow-back" data-name="Icon ionic-ios-arrow-back" d="M14.786,16.449l7.763-7.757a1.466,1.466,0,0,0-2.077-2.07l-8.795,8.789a1.463,1.463,0,0,0-.043,2.022l8.831,8.85a1.466,1.466,0,1,0,2.077-2.07Z" transform="translate(-11.251 -6.194)" fill="#fff"/>
                          </svg>
                    </span>
                    <a class="navbar-brand" href="#">
                        <img src="assets/images/logo_white.svg" alt="logo" class="img-fluid" />
                    </a>
                    
                    <span class="d-flex align-items-center p-0">
                        <svg class="mr-2" xmlns="http://www.w3.org/2000/svg" width="19.619" height="19.621" viewBox="0 0 19.619 19.621">
                            <g id="global_1_" data-name="global (1)" transform="translate(-0.016 0.002)">
                              <g id="Group_19108" data-name="Group 19108" transform="translate(0.016 -0.002)">
                                <path id="Path_31591" data-name="Path 31591" d="M17.823,4.146a.164.164,0,0,0,0-.019c-.025-.035-.055-.065-.08-.1q-.275-.374-.582-.721c-.056-.063-.112-.125-.17-.187q-.316-.339-.663-.646c-.043-.038-.083-.077-.125-.114A9.824,9.824,0,0,0,14.34,1.1c-.027-.014-.055-.026-.082-.04a9.748,9.748,0,0,0-.911-.406c-.07-.025-.134-.049-.2-.07q-.414-.149-.841-.261C12.221.3,12.137.281,12.052.261,11.771.2,11.491.146,11.2.106c-.087-.013-.172-.029-.26-.04a9.215,9.215,0,0,0-2.223,0c-.088.011-.173.027-.26.04-.287.041-.57.09-.847.156-.086.02-.17.043-.254.065q-.43.112-.841.261l-.2.07a9.742,9.742,0,0,0-.911.406c-.027.014-.055.026-.082.04A9.827,9.827,0,0,0,3.458,2.36c-.043.037-.083.076-.125.114a9.117,9.117,0,0,0-.663.646c-.057.062-.114.124-.17.187q-.308.346-.582.721c-.025.034-.055.064-.08.1a.159.159,0,0,0-.008.019,9.749,9.749,0,0,0,0,11.326.153.153,0,0,0,.008.019c.025.035.055.065.08.1q.274.374.582.721c.056.063.112.125.17.187q.317.339.663.646c.043.038.083.077.125.114a9.824,9.824,0,0,0,1.86,1.256c.027.014.055.026.082.04a9.749,9.749,0,0,0,.911.406c.07.025.134.049.2.07q.414.149.841.261c.084.022.168.046.254.065.28.065.561.115.847.156.087.013.172.029.26.04a9.215,9.215,0,0,0,2.223,0c.088-.011.173-.027.26-.04.287-.041.57-.09.847-.156.086-.02.17-.043.254-.065q.43-.112.841-.261l.2-.07a9.743,9.743,0,0,0,.911-.406c.027-.014.055-.026.082-.04a9.826,9.826,0,0,0,1.86-1.256c.043-.037.083-.076.125-.114a8.924,8.924,0,0,0,.663-.646c.057-.062.114-.124.17-.187q.308-.346.582-.721c.025-.034.055-.064.08-.1a.16.16,0,0,0,.008-.019A9.749,9.749,0,0,0,17.823,4.146Zm-.8,1.326a8.34,8.34,0,0,1,1.182,3.636h-4.2a13.08,13.08,0,0,0-.393-2.474A12.6,12.6,0,0,0,17.023,5.472Zm-5.41-3.881c.039.009.077.022.116.031a7.543,7.543,0,0,1,.743.21c.037.013.074.027.11.041q.362.126.711.28l.121.059q.334.159.653.344l.14.085q.3.185.589.4c.049.036.1.07.146.109a6.4,6.4,0,0,1,.537.451c.045.041.091.081.135.123.179.17.35.35.516.537.021.025.043.047.064.07a11.758,11.758,0,0,1-2.99.96A17.823,17.823,0,0,0,11.32,1.543C11.417,1.56,11.517,1.57,11.613,1.591ZM7.051,9.108a11.7,11.7,0,0,1,.386-2.243A20.086,20.086,0,0,0,9.83,7a20.131,20.131,0,0,0,2.4-.144,11.674,11.674,0,0,1,.383,2.247Zm5.557,1.4a11.7,11.7,0,0,1-.386,2.243,20.515,20.515,0,0,0-4.788,0,11.677,11.677,0,0,1-.383-2.243ZM9.83,1.854A16.93,16.93,0,0,1,11.783,5.5a18.552,18.552,0,0,1-1.954.1,18.692,18.692,0,0,1-1.951-.1A17.063,17.063,0,0,1,9.83,1.854Zm-6.3,2.4c.165-.186.336-.367.516-.537.044-.042.09-.082.135-.123q.259-.236.537-.451c.048-.037.1-.07.146-.109q.286-.21.589-.4l.14-.085q.319-.186.653-.344l.121-.059q.349-.158.711-.28c.036-.013.07-.028.11-.041.243-.081.491-.149.743-.21.039-.009.077-.022.117-.03.1-.021.2-.031.293-.048A17.824,17.824,0,0,0,6.453,5.288a11.757,11.757,0,0,1-2.99-.96C3.485,4.3,3.507,4.28,3.528,4.256ZM2.637,5.472A12.594,12.594,0,0,0,6.045,6.634a13.08,13.08,0,0,0-.392,2.474h-4.2A8.342,8.342,0,0,1,2.637,5.472Zm0,8.673A8.34,8.34,0,0,1,1.454,10.51h4.2a13.08,13.08,0,0,0,.393,2.474A12.593,12.593,0,0,0,2.637,14.146Zm5.41,3.881C8.007,18.018,7.969,18,7.93,18a7.544,7.544,0,0,1-.743-.21c-.037-.013-.074-.027-.11-.041q-.362-.126-.711-.28l-.121-.059q-.334-.159-.653-.344l-.14-.085q-.3-.185-.589-.4c-.049-.036-.1-.07-.147-.109a6.4,6.4,0,0,1-.537-.451c-.045-.041-.091-.081-.135-.123-.179-.17-.35-.35-.516-.537-.021-.025-.043-.047-.064-.07a11.758,11.758,0,0,1,2.99-.96,17.823,17.823,0,0,0,1.887,3.744C8.242,18.057,8.143,18.048,8.047,18.027Zm1.783-.264a16.93,16.93,0,0,1-1.954-3.645,18.248,18.248,0,0,1,3.906,0h0A17.059,17.059,0,0,1,9.83,17.763Zm6.3-2.4c-.165.186-.336.367-.516.537-.044.042-.09.082-.135.123q-.259.237-.537.451c-.048.037-.1.074-.147.109q-.286.21-.589.4l-.14.085q-.318.186-.653.344l-.121.059q-.349.158-.711.28c-.036.013-.07.028-.11.041-.243.081-.491.149-.743.21-.039.009-.077.022-.117.03-.1.021-.2.031-.293.048a17.821,17.821,0,0,0,1.887-3.744,11.757,11.757,0,0,1,2.99.96C16.175,15.315,16.152,15.337,16.131,15.362Zm.892-1.216a12.593,12.593,0,0,0-3.408-1.162,13.08,13.08,0,0,0,.392-2.474h4.2A8.342,8.342,0,0,1,17.023,14.146Z" transform="translate(-0.016 0.002)" fill="#fff"/>
                              </g>
                            </g>
                          </svg>
                        <label class="switch">
                            <input type="checkbox">
                            <span class="slider round"></span>
                          </label>
                    </span>
                </nav>
            </div>
        </div>
    </div>
</header>



<section class="my-4 my-sm-5 no-scroll-height">
    <div class="container">
        <div class="row">
            <div class="col-sm-11 mx-auto py-1">
                <div class="profile_section">
                    <div class="position-relative mx-0 mx-sm-3  d-none d-sm-block">
                            <span class="back_btn" routerLink="/company/profilecompany">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="11.058" height="18.136" viewBox="0 0 11.058 18.136">
                                        <path id="Icon_ionic-ios-arrow-back" data-name="Icon ionic-ios-arrow-back" d="M14.584,15.26,21.9,8.4a1.234,1.234,0,0,0,0-1.83,1.455,1.455,0,0,0-1.958,0l-8.292,7.769a1.236,1.236,0,0,0-.04,1.787l8.327,7.823a1.457,1.457,0,0,0,1.958,0,1.234,1.234,0,0,0,0-1.83Z" transform="translate(-11.251 -6.194)" fill="#212121"/>
                                        </svg>
                            </span>
                            <h1 class="text-center mb-4">
                    
                                    Edit Profile
                                    <span></span>
                                    <span></span>
                                </h1>
                    </div>
                    <form name="form" #f="ngForm" (ngSubmit)="f.form.valid  && onSubmit(f)">
                    <div class="row px-3 signup_tabs">
                        <div class="col-sm-12 mb-4">
                            <div class="user_profile mx-auto">


                                <img class="avatar avatar-lg img-fluid" src="assets/images/noimageavailable.png"  *ngIf="profilePic && profilePic=='https://api-dev.hjelpsom.app/static/'" alt="..." />
                                <img class="avatar avatar-lg img-fluid" src="assets/images/noimageavailable.png"  *ngIf="!profilePic " alt="..." />
                                <img class="avatar avatar-lg img-fluid" src="{{profilePic}}"  *ngIf="profilePic && profilePic!=='https://api-dev.hjelpsom.app/static/'" alt="..." />
                                <div class="edit_profile_div">
                                    <input type="file" class="form-control" (change)="uploadProfileImage($event)" accept="image/*" required id="inputEmail4" placeholder="Search Country">
                                    <div class="edit_profile_uploader">
                                        <img src="assets/images/edit_red.svg" alt="" class="img-fluid">
                                    </div>
                                </div>
                               
                            </div>
                        </div>
                        <div class="col-sm-6">
                            <mat-form-field floatLabel='never' appearance="fill" class="w-100 bg-none custom_input mb-1" >
                                <label>Organization Number</label>
                                <input matInput placeholder="Enter number"  pattern="^[^\s]+(\s.*)?$"  matInput type="text" #orgn="ngModel"   [ngModel]="companyNumber | formatPhone" (ngModelChange)="companyNumber = $event" [minlength]="11" [maxlength]="11"  (keypress)="numberOnly($event)" 
                                name="companyNumber" required>
                           </mat-form-field>
                           <div *ngIf="f.submitted && orgn.invalid ">
                               <div class="alert alert-danger" *ngIf="orgn.errors.required">
                                Organization Number is required
                               </div>
                               <div class="alert alert-danger" *ngIf="orgn.errors?.pattern">
                                Organization Number is invalid
                               </div>
                               <div class="alert alert-danger" *ngIf="orgn.errors?.minlength">
                                Organization Number is invalid
                               </div>
                               <div class="alert alert-danger" *ngIf="orgn.errors?.maxlength">
                                Organization Number is invalid
                               </div>
                           </div>

                          

                            <mat-form-field appearance="fill" class="w-100 custom_input mb-1">
                                    <label>Industry Sector</label>
                                    <mat-select placeholder="Select sector" name="serviceType" [(ngModel)]="serviceTypeSelected" #tbtab2 (ngModelChange)="getServiceListById(tbtab2.value)" #brndtab2="ngModel" required>
                                        <mat-option *ngFor="let srv of serviceTypeAll " [value]="srv._id">
                                            {{srv.serviceTypeName}}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>
                                 
                                <mat-label class="mb-2 d-block f_18 fw_medium" *ngIf="serviceNamesAll?.length>0">Select Service Name</mat-label>
                                <ng-container *ngFor="let tta of serviceNamesAll;let i=index;">
                                    <mat-checkbox
                                        [ngModelOptions]="{standalone: true}"
                                        [checked]="tta.State"
                                        [(ngModel)]="tta.State"
                                        name="test{{i}}"
                                        (change)="onPermissionCheckChanged($event,tta._id)"
                                        class="example-margin fw_regular mr-2"
                                    >
                                        <span>{{tta.serviceName}}</span>
                                    </mat-checkbox>
                                </ng-container>
                                <div class="mb-4 signup_tabs">
                                    <mat-label class="mb-2 d-block f_18 fw_medium">Select Your Area</mat-label>

                                    <ng-container *ngFor="let ttarea of serviceAreasAll;let i=index;">

                                        <mat-checkbox  [ngModelOptions]="{standalone: true}"
                                        [checked]="ttarea.State"
                                        [(ngModel)]="ttarea.State"
                                        name="areaname{{i}}"
                                        (change)="onPermissionCheckChangedArea($event,ttarea._id)" class="example-margin fw_regular mr-2">
                                            <span>{{ttarea.name}}</span>
                                        </mat-checkbox>
                                    </ng-container>
                                   
        
                                </div>

                            
                        </div>
                        <div class="col-sm-6">
                            <mat-form-field floatLabel='never' appearance="fill" class="w-100 bg-none custom_input mb-1" >
                                <label>Company Name</label>
                                <input matInput placeholder="Enter Name"  pattern="^[^\s]+(\s.*)?$"  matInput type="text" #compn="ngModel"  [(ngModel)]="companyName"
                                name="companyName" required>
                           </mat-form-field>
                           <div *ngIf="f.submitted && compn.invalid ">
                               <div class="alert alert-danger" *ngIf="compn.errors.required">
                                Company Name is required
                               </div>
                               <div class="alert alert-danger" *ngIf="compn.errors?.pattern">
                                Company Name is invalid
                               </div>
                           </div>

                           <mat-form-field floatLabel="never" appearance="fill" class="w-100 bg-none custom_input mb-1 mt-2">
                            <label>Email Address</label>
                            <input
                                matInput
                                placeholder="Enter email address"
                                [value]="email"
                                name="ContactPersonEmailIdcust"
                                type="text"
                                class="form-control"
                                [(ngModel)]="email"
                                #idcust="ngModel"
                                pattern="^([\w\-\.]+)@((\[([0-9]{1,3}\.){3}[0-9]{1,3}\])|(([\w\-]+\.)+)([a-zA-Z]{2,4}))$"
                                required
                            />
                            
                        </mat-form-field>
                        <div *ngIf="f.submitted && idcust.invalid ">
                            <div class="alert alert-danger" *ngIf="idcust.errors.required">
                             Email is required
                            </div>
                            <div class="alert alert-danger" *ngIf="idcust.errors?.pattern">
                             Email is invalid
                            </div>
                        </div>
                        <div class="user_reviews mt-3">
                            <h6 class="f_18 fw_medium position-relative mb-4">Upload Images</h6>
                            <div class="row">
                                <div class="col-sm-4 mb-4 mb-sm-0">
                                    <div class="add_photos position-relative">
                                        <input type="file" class="form-control" accept="image/*" id="inputEmail4" placeholder="Search Country" multiple="" (change)="onFileChange($event)">
                                        <div class="add_photo_uploader">
                                            <svg xmlns="http://www.w3.org/2000/svg" width="21.5" height="21.5" viewBox="0 0 21.5 21.5">
                                                <g id="Icon_feather-plus" data-name="Icon feather-plus" transform="translate(0.75 0.75)">
                                                  <path id="Path_3734" data-name="Path 3734" d="M18,7.5v20" transform="translate(-8 -7.5)" fill="none" stroke="#00b7fb" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5"/>
                                                  <path id="Path_3735" data-name="Path 3735" d="M7.5,18h20" transform="translate(-7.5 -8)" fill="none" stroke="#00b7fb" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5"/>
                                                </g>
                                              </svg>
                                            <p class="mb-0 mt-2">Add Image</p>
                                        </div>
                                    </div>
                                </div>

<!-- 
                                <div class="col-6 col-sm-4 mb-4 mb-sm-0">
                                    <div class="d-flex">
                                        <div class="uploaded_image_size position-relative">
                                            <img src="assets/images/dummy_image.png" alt="" class="img-fluid w-100 added_image">
                                        <img src="assets/images/delete_image.svg" alt="" class="img-fluid delete_icon">
                                        </div>
                                        
                                    </div>
                                </div> -->

                                <ng-container *ngIf="images?.length>0">
                                    <div class="col-6 col-sm-4 mb-4 mb-sm-3" *ngFor="let image of images">
                                        <div class="d-flex">
                                            <div class="uploaded_image_size position-relative">
                                                <img [src]="image" alt="" class="img-fluid w-100 added_image">
                                                
                                            </div>
                                            
                                        </div>
                                    </div>
                                </ng-container>

                                <ng-container *ngIf="uploadedImages?.length>0">
                                    <div class="col-6 col-sm-4 mb-4 mb-sm-3" *ngFor="let images of uploadedImages">
                                        <div class="d-flex">
                                            <div class="uploaded_image_size position-relative">
                                                <img [src]="baseImgUrl+images" alt="" class="img-fluid w-100 added_image">
                                                <img src="assets/images/delete_image.svg" (click)="removeImage(images)" alt="" class="img-fluid delete_icon">
                                            </div>
                                            
                                        </div>
                                    </div>
                                </ng-container>

                                <ng-container *ngIf="uploadedImages?.length<1 && images?.length<1"><div class="col-6 col-sm-4 mb-4 mb-sm-3" >
                                    <div class="d-flex">
                                        <div class="uploaded_image_size position-relative">
                                            <img src="assets/images/noimageavailable.png" alt="" class="img-fluid w-100 added_image">

                                        </div>
                                        
                                    </div>
                                </div></ng-container>
                                
                               
                            </div>
                            
                        </div>
                        </div>
                        

                        

                        
                        
                        <div class="col-sm-4 mx-auto">
                            <button mat-button class="f_18 bg_green text-white mt-4 mt-sm-5 mb-4 p-2 w-100" >Update Profile</button>
                        </div>

                       

                        
                    </div>
                </form>
                </div>
            </div>
        </div>
    </div>
</section>

<section class="sidemenu_fixed">
    <span class="" routerLink="/company/homepagecompany">
        <svg xmlns="http://www.w3.org/2000/svg" width="30.298" height="33.331" viewBox="0 0 30.298 33.331">
            <g id="Icon_feather-home" data-name="Icon feather-home" transform="translate(1.5 1.5)">
              <path id="Path_28365" data-name="Path 28365" d="M4.5,13.616,18.149,3,31.8,13.616V30.3a3.033,3.033,0,0,1-3.033,3.033H7.533A3.033,3.033,0,0,1,4.5,30.3Z" transform="translate(-4.5 -3)" fill="none" stroke="#1bbc9b" stroke-linecap="round" stroke-linejoin="round" stroke-width="3"/>
              <path id="Path_28366" data-name="Path 28366" d="M13.5,33.165V18h9.1V33.165" transform="translate(-4.401 -2.835)" fill="none" stroke="#1bbc9b" stroke-linecap="round" stroke-linejoin="round" stroke-width="3"/>
            </g>
        </svg>
    </span>

    <span class="" routerLink="/company/messagecompany" [ngClass]="{'messageunread' : messageUnseenVal>0}">
        <svg xmlns="http://www.w3.org/2000/svg" width="32.161" height="32.161" viewBox="0 0 32.161 32.161">
            <path id="Icon_feather-message-square" data-name="Icon feather-message-square" d="M33.661,23.941a3.24,3.24,0,0,1-3.24,3.24H10.98L4.5,33.661V7.74A3.24,3.24,0,0,1,7.74,4.5H30.421a3.24,3.24,0,0,1,3.24,3.24Z" transform="translate(-3 -3)" fill="none" stroke="#1bbc9b" stroke-linecap="round" stroke-linejoin="round" stroke-width="3"/>
          </svg>
    </span>

    <span class="fixed_active">
        <svg xmlns="http://www.w3.org/2000/svg" width="28.992" height="32.242" viewBox="0 0 28.992 32.242">
            <g id="Icon_feather-user" data-name="Icon feather-user" transform="translate(1.5 1.5)">
              <path id="Path_28367" data-name="Path 28367" d="M31.992,32.247V29a6.5,6.5,0,0,0-6.5-6.5h-13A6.5,6.5,0,0,0,6,29v3.249" transform="translate(-6 -3.006)" fill="none" stroke="#1bbc9b" stroke-linecap="round" stroke-linejoin="round" stroke-width="3"/>
              <path id="Path_28368" data-name="Path 28368" d="M25,11a6.5,6.5,0,1,1-6.5-6.5A6.5,6.5,0,0,1,25,11Z" transform="translate(-5.502 -4.5)" fill="none" stroke="#1bbc9b" stroke-linecap="round" stroke-linejoin="round" stroke-width="3"/>
            </g>
          </svg>
    </span>
</section>

<app-footercompany></app-footercompany>

<div *ngIf="isLoading">
    <div class="spinner_overlay"></div>
    <div class="loader-container">
        <div class="loader dots-wave">
          <span class="dot"></span>
          <span class="dot"></span>
          <span class="dot"></span>
        </div>
    </div>
    </div>
